
#:set box_size "120dp"

<MainWidget>:
    size: root.size
    Image:
        source: "images/lesson.png"
        allow_stretch: True
        keep_ratio: False
        canvas:
            Color:
                rgba: 0, 0, 0, 0.6
            Rectangle:
                size: self.size
                pos: self.pos
    BoxLayout:
        orientation: "vertical"
        BoxLayout:
            size_hint: 1, None
            height: "100dp"
            background_color: .2,.2,.2,1 # (179/255, 250/255, 137/255)
            canvas:
                Color:
                    rgba: self.background_color
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [(0, 0), (0, 0), (30, 30), (30, 30)]
            orientation: "vertical"
            Label:
                padding: (0, 0.4)
                size_hint: 1, 0.2
                text: "Beidzas pēc:"
                color: 1, 1, 1, 1
            Label:
                bold: True
                font_size: dp(60)
                color: 0, 0, 0, 1
                text: root.current_lesson_ends_in_txt
        ScrollView:
            size: root.size
            do_scroll_x: False
            do_scroll_y: True
            GridLayout:
                size: root.size
                size_hint_y: None
                cols: 1
                Label:
                    text: root.current_lesson_txt
                    size_hint: [1, None]
                    height: dp(50)
                BoxLayout:
                    size_hint_y: 0.2
                    BoxLayout:
                        orientation: 'vertical'
                        Label:
                            text: 'Nākamā stunda'
                            size_hint_y: 0.5
                        Label:
                            text: root.next_lesson
                            font_size: self.width/16
                            bold: True
                            size_hint_y: 0.5
                    Label:
                        text: root.next_lesson_kab
                        bold: True
                        text_size: self.width, None
                        font_size: self.width/4
                        size_hint_x: 0.3
                        # height: dp(30)
                BoxLayout:
                    Label:
                        size_hint_x: 0.05
                    BoxLayout:
                        background_color: 0,0,0,0.9  # (179/255, 250/255, 137/255)
                        canvas:
                            Color:
                                rgba: self.background_color
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                                radius: [(30, 50), (30, 50), (30, 50), (30, 50)]
                        orientation: 'vertical'
                        id: table_block
                    Label:
                        size_hint_x: 0.05



        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, None
            height: "50dp"
            background_color: (0.1, 0.1, 0.1, 0.5)
            canvas.before:
                Color:
                    rgba: self.background_color
                Rectangle:
                    size: self.size
                    pos: self.pos
            Button:
                size_hint: 0.2, 0.8
                background_color: 'gray'
                font_name: "fonts/heydings_icons.ttf"
                text: "G" # H - maja L atslega X krusts C settings M meklet, + add
                on_release:
                    app.root.current = "tools"
            Label:
                size_hint_x: 0.02
            Button:
                disabled: True
                size_hint: 0.2, .8
                font_name: "fonts/heydings_icons.ttf"
                text: "H"
            Label:
                size_hint_x: 0.02
            Button:
                size_hint: 0.2, .8
                background_color: 'gray'
                font_name: "fonts/heydings_icons.ttf"
                text: "C"
                on_release:
                    app.root.current = "set"
